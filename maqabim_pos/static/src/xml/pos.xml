<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve">
 
    <!--Display default code on Main Product List-->
    <t t-extend="Product">
        <t t-jquery="div.product-name" t-operation="prepend">
             <t t-if="product.default_code">[<t t-esc="product.default_code"/>]</t>
        </t>
    </t>

    <!--Display default code on Cart line-->
    <t t-extend="Orderline">
        <t t-jquery="span.product-name" t-operation="prepend">
             <t t-if="line.get_product().default_code">[<t t-esc="line.get_product().default_code"/>]</t>
        </t>
    </t>

    <!--Display default code on receipt-->
    <t t-extend="PosTicket">
        <t t-jquery="tr[t-foreach*='orderlines'][t-as*='orderline'] td:first" t-operation="prepend">
            <t t-if="orderline.get_product().default_code">[<t t-esc="orderline.get_product().default_code"/>]</t>
        </t>
        <t t-jquery="t[t-foreach*='order.get_tax_details()'][t-as*='taxdetail']" t-operation="replace">
            <t t-foreach="order.get_tax_details_by_tax_group()" t-as="taxdetail">
                <tr>
                    <td><t t-esc="taxdetail.name" /></td>
                    <td class="pos-right-align">
                        <t t-esc="widget.format_currency(taxdetail.amount)" />
                    </td>
                </tr>
            </t>
        </t>
    </t>

    <t t-name="TaxGroup">
        <t t-set="taxdetails" t-value="widget.pos.get_order().get_tax_details_by_tax_group()"/>
        <t t-foreach="taxdetails" t-as="taxdetail">
            <div>
                <li>
                    <span><t t-esc="taxdetail.name" />: </span>
                    <span><t t-esc="widget.format_currency(taxdetail.amount)" /></span>
                </li>
            </div>
        </t>
        <t t-if="!taxdetails.length">
            <div>Taxes: <span class="value"><t t-esc="widget.format_currency(0)"/></span></div>
        </t>
    </t>

    <!--Hide  TAX Action button-->
    <t t-extend="SetFiscalPositionButton">
        <t t-jquery="div" t-operation="replace">
            <span/>
        </t>
    </t>

    <t t-extend="OrderWidget">
        <t t-jquery="div.line .total" t-operation="replace">
            <div class='entry total'>
                <div class="subtotal" style="font-size: 17px;">Subtotal: <span class="value">0.00€</span> </div>
                <div class='subentry'><div>Taxes: <span class="value">0.00€</span></div></div>
                <span class="label">Total: </span> <span class="value">0.00 €</span>
            </div>
        </t>
    </t>

</templates>