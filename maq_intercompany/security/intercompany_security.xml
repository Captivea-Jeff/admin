<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <!-- Write ir.rule so user can view it's own created record -->
        <!-- <record id="publish_product_view_rule" model="ir.rule">
            <field name="name">Show Publish record according to user's company</field>
            <field ref="website_multi.model_website_url" name="model_id"/>
            <field eval="1" name="global"/>
            <field name="domain_force">[('website_id.company_id.id','in',user.company_ids.ids)]</field>
        </record> -->

        <!-- <record id="module_category_intercompany_management" model="ir.module.category">
            <field name="name">Maq Intercompany</field>
            <field name="sequence">200</field>
        </record> -->
        <!-- Add new group company admin manager -->
        <record id="maq_company_admin_manager" model="res.groups">
            <field name="name">Company Field Admin Manager</field>
            <field name="category_id" ref="base.module_category_usability"/>
        </record>
        <!-- Added a new group product chatter manager -->
        <record id="maq_product_chatter_manager" model="res.groups">
            <field name="name">Product Chatter Manager</field>
            <field name="category_id" ref="base.module_category_usability"/>
        </record>
        <!-- Added the access rule for Ecommerce category field so company can see their own categories -->
        <record id="ecommerce_category_product_rule" model="ir.rule">
            <field name="name">Ecommerce Category Product Rule</field>
            <field ref="website_sale.model_product_public_category" name="model_id"/>
            <field eval="1" name="global"/>
            <field name="domain_force">['|',('m_company_id','=',user.company_id.id),('m_company_id','=',False)]</field>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="False"/>
            <field name="perm_create" eval="False"/>
            <field name="perm_unlink" eval="False"/>
        </record>
        <!-- (26) Record rule for cost_history -->
        <record id="product_cost_history_rule" model="ir.rule">
            <field name="name">Product Price History Rule</field>
            <field ref="product.model_product_price_history" name="model_id"/>
            <field eval="1" name="global"/>
            <field name="domain_force">['|',('company_id','in',user.company_ids.ids),('company_id','=',False)]</field>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="False"/>
            <field name="perm_create" eval="False"/>
            <field name="perm_unlink" eval="False"/>
        </record>
        <!-- (27) and (28) Record rule for promotion and coupon program -->
        <record id="sales_promotions_program_rule" model="ir.rule">
            <field name="name">Sales Promotions Program Rule</field>
            <field ref="sale_coupon.model_sale_coupon_program" name="model_id"/>
            <field eval="1" name="global"/>
            <field name="domain_force">['|',('company_id','in',user.company_ids.ids),('company_id','=',False)]</field>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="False"/>
            <field name="perm_create" eval="False"/>
            <field name="perm_unlink" eval="False"/>
        </record>
        <!-- (30), (31) and (33) Record rule for crm lead object to see record according to allowed companies -->
        <record id="crm_lead_intercompany_rule" model="ir.rule">
            <field name="name">CRM Lead Intercompany Rule</field>
            <field ref="crm.model_crm_lead" name="model_id"/>
            <field eval="1" name="global"/>
            <field name="domain_force">['|',('company_id','in',user.company_ids.ids),('company_id','=',False)]</field>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="False"/>
            <field name="perm_create" eval="False"/>
            <field name="perm_unlink" eval="False"/>
        </record>
        <!-- Stock Move Line Record rule -->
        <record id="stock_move_line_intercompany_rule" model="ir.rule">
            <field name="name">Stock Move Line(Product Moves) Intercompany Rule</field>
            <field ref="stock.model_stock_move_line" name="model_id"/>
            <field eval="1" name="global"/>
            <field name="domain_force">['|', '|',
                               ('location_id.company_id.id', 'in', user.company_ids.ids),
                               ('location_id.company_id.id', '=', None),
                               '|', ('location_dest_id.company_id.id', 'in', user.company_ids.ids),
                               ('location_dest_id.company_id.id', '=', None)]</field>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="False"/>
            <field name="perm_create" eval="False"/>
            <field name="perm_unlink" eval="False"/>
        </record>
        <!-- (29) Stock Scrap Intercompany record rule -->
        <record id="stock_scrap_intercompany_rule" model="ir.rule">
            <field name="name">Stock Move Line Intercompany Rule</field>
            <field ref="stock.model_stock_scrap" name="model_id"/>
            <field eval="1" name="global"/>
            <field name="domain_force">['|', '|',
                               ('location_id.company_id.id', 'in', user.company_ids.ids),
                               ('location_id.company_id.id', '=', None),
                               '|', ('scrap_location_id.company_id.id', 'in', user.company_ids.ids),
                               ('scrap_location_id.company_id.id', '=', None)]</field>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="False"/>
            <field name="perm_create" eval="False"/>
            <field name="perm_unlink" eval="False"/>
        </record>
        <!-- (25) All channel sales report intercompany record rule -->
        <record id="all_channel_sales_report_intercompany_rule" model="ir.rule">
            <field name="name">All Channel Sales Report Intercompany Rule</field>
            <field ref="sale.model_report_all_channels_sales" name="model_id"/>
            <field eval="1" name="global"/>
            <field name="domain_force">['|',('company_id','in',user.company_ids.ids),('company_id','=',False)]</field>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="False"/>
            <field name="perm_create" eval="False"/>
            <field name="perm_unlink" eval="False"/>
        </record>
        <!-- (32) CRM Activity Report Intercompany record rule -->
        <record id="crm_activity_report_intercompany_rule" model="ir.rule">
            <field name="name">CRM Activity Report Intercompany Rule</field>
            <field ref="crm.model_crm_activity_report" name="model_id"/>
            <field eval="1" name="global"/>
            <field name="domain_force">['|',('company_id','in',user.company_ids.ids),('company_id','=',False)]</field>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="False"/>
            <field name="perm_create" eval="False"/>
            <field name="perm_unlink" eval="False"/>
        </record>
        <!-- Add custom function for company erp manager rule -->
        <function model="ir.rule" name="company_erp_manager" />
        <!-- (34) Add custom function for company erp manager rule -->
        <function model="calendar.event" name="calendar_for_employees" />
    </data>
</odoo>