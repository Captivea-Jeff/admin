<?xml version="1.0" encoding="UTF-8" ?>
<!--Copyright 2014-2015 Ivan Yelizariev <https://it-projects.info/team/yelizariev>
    Copyright 2018-2019 Kolushov Alexandr <https://it-projects.info/team/KolushovAlexandr>
    License MIT (https://opensource.org/licenses/MIT). -->
<templates id="template" xml:space="preserve">
    <t t-inherit="point_of_sale.ProductItem" t-inherit-mode="extension" owl="1">
        <xpath expr="//i[hasclass('product-info-button')]" t-operation="after">
            <t t-if="props.product.qty_available != 0">
            <span class="qty-tag">
                <t t-esc="props.product.qty_available"/>
            </span>
            </t>
            <t t-else="">
                <span class="qty-tag not-available">
                    <t t-esc="props.product.qty_available"/>
                </span>
            </t>
        </xpath>
    </t>

    <t t-inherit="point_of_sale.Orderline" t-inherit-mode="extension" owl="1">
        <xpath expr="//em" t-operation="after">
            <t t-if="props.line.product.type == 'product'">
                (of
                    <span t-attf-class="qty-info #{'not-available' if props.line.quantity > props.line.product.qty_available else '' }">
                        <t t-esc="props.line.product.qty_available"/>
                    </span>
                    )
                </t>
        </xpath>
    </t>
</templates>
